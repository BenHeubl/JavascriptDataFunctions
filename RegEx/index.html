<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">

        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>

                <script src="https://d3js.org/d3-queue.v2.min.js" charset="utf-8"></script>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

        <!-- Place favicon.ico in the root directory -->




      <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.8.3.min.js"></script>

        <script src="//d3js.org/d3.v4.0.0-alpha.26.min.js"></script>
        <!-- <script src="https://d3js.org/d3-queue.v2.min.js"></script> -->



        <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.11.1/lodash.js" charset="utf-8"></script>

        <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="https://d3js.org/d3-queue.v2.min.js" charset="utf-8"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <h1>Search and patterns in Javascript</h1>

        <p>Regex search functions</p>
<!--
        <p id="id1"></p>
        <p id="id2"></p>
        <p id="id3"></p> -->




        <!-- <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script> -->
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>

        <script>
        console.log("regex to extracting patterns")
        var string = "ben, is so benomatic that ben can not eat benanas";
        // lets extract "ben"
        var regexPattern = /ben/;

        // applied here:
        if (regexPattern.test(string)) {
          var output = string.match(regexPattern)
          console.log(output.index)
          console.log(output.input) //
          console.log(output[0]) // ben
        }

        // if we wnat to find all of the stings that
        // match, we need to a different pattern:
        // this is /ben/g

        var regexPatternAll = /ben/g; // g is for global???

        if (regexPattern.test(string)) {
          var outputAll = string.match(regexPatternAll)
          console.log(outputAll)
          console.log(outputAll.length)
        };

        // Get all the words that start with ben
        var regexPatternStart = /ben.*?\b/g;
        // in the regex, we match everything that starts with the string "ben"
        // followed by9 or more characters (.*?) until a word breaks (\b)

        // or search for both words ben and benanas
        var regexPatternBothWords = /benanas|ben/g; // careful not the other way around
        // as it would end up in a greedy match
        console.log(string.match(regexPatternStart))
        console.log(string.match(regexPatternBothWords))

// replace with regex
        var regexPatternAll = /ben/g; // g is for global???

        var outputNewString = string.replace(regexPatternAll, "Peter")
        console.log(outputNewString)

        // find and replace numerics
        // lets try to extract numbers from string, thank you
        var stringWithNumbers = "we bought this for £5.50, then we bought a car for £100000, £5.50, £5.50, £5.50, £5.50,£5.50  £5.50, £5.50";
       // extract 5000 from the sting
       var regexExtractPountsAmount = /\£([0-9\.\,]+)\b/g;
       // looks for £ to before the amount
       // a set of repearing haracters that can be a number (0)
       // or the preiod character (.), which can apperar many times (+)
       //  a word breats indicating the end of the amount string (\b)
      //  var outputNumers = stringWithNumbers.march(regexExtractPountsAmount)
      var numebrsArray = stringWithNumbers.match(regexExtractPountsAmount)
       console.log(numebrsArray)
       // ["£5.50", "£100,000"]

       // now we need to get rid of the £ sign and the comma, and make it a numeric characters


       numebrsArray[1].replace(",", "")
       //
      //  stringWithNumbers.prototype.replaceArray = function(find, replace) {
      //     var replaceString = this;
      //     for (var i = 0; i < find.length; i++) {
      //       replaceString = replaceString.replace(find[i], replace[i]);
      //     }
      //     return replaceString;
      //   };

       console.log(numebrsArray)

       console.log(
         numebrsArray.reduce(function(sum, value) { // reduce takes 2 arguments
         return sum + Number(value.slice(1))
         // reduce will roll up all numbers to one
       }, 0)   // reduce function takes in
     );

//      Useful special characters
//
// We've used a few special characters so far, like \b to indicate a word break. There are a few others that might be useful to you:
//
// \d - any number character. Equivalent to [0-9].
// \D - any non number character. Equivalent to [^0-9].
// \s - any single space character. This includes a single space, tab, line feed or form feed.
// You can see a full list of all special characters here: MDN - Regular Expressions


 // more at: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions


        </script>


<!-- load jsData Cheetsheet -->
        <!-- <script src="js/index.js"></script> -->


        <script src="js/queue.js"></script>


        <!-- <! <script src="js/plugins.js"></script> -->
        <!-- <script src="js/main.js"></script> -->

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <!-- <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='https://www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script> -->

                <script src="https://d3js.org/d3-queue.v2.min.js" charset="utf-8"></script>
    </body>
</html>
